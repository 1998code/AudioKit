<%= header_partial %>

/** <%= description %> */
public class <%= node %>: AKNode {

    // MARK: - Properties

    private var internalAU: <%= node %>AudioUnit?
    private var token: AUParameterObserverToken?

<%= parameters_partial -%>

    // MARK: - Initializers

    /** Initialize this <%= one_word_desc %> node */
    public init(
        _ input: AKNode,
<% parameters.each_with_index do |sp_parameter, i| -%>
<% sp_parameter.each do  |sp_var, data| -%>
        <%= data["ak-variable"] %>: Float = <%= data["default"] %><%= ",\n" if i < parameters.count - 1 %><% end %><% end %>) {

<% parameters.each do |sp_parameter| -%>
<% sp_parameter.each do  |sp_var, data| -%>
        self.<%= data["ak-variable"] %> = <%= data["ak-variable"] %>
<% end -%>
<% end -%>
        super.init()

<%= description_partial %>

<%= audio_unit_setup_partial %>

<%= parameter_observation_partial %>

<% parameters.each do |sp_parameter| -%>
<% sp_parameter.each do  |sp_var, data| -%>
        <%= data["ak-variable"] %>Parameter?.setValue(<%= data["ak-variable"] %>, originator: token!)
<% end -%>
<% end -%>

    }
}

        AUAudioUnit.registerSubclass(
            <%= operation %>AudioUnit.self,
            asComponentDescription: description,
            name: "Local <%= operation %>",
            version: UInt32.max)

        AVAudioUnit.instantiateWithComponentDescription(description, options: []) {
            avAudioUnit, error in

            guard let avAudioUnitEffect = avAudioUnit else { return }

            self.output = avAudioUnit<%= au_type %>
            self.internalAU = avAudioUnitEffect.AUAudioUnit as? <%= operation %>AudioUnit
            AKManager.sharedInstance.engine.attachNode(self.output!)
            AKManager.sharedInstance.engine.connect(input.output!, to: self.output!, format: nil)
        }